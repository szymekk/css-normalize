# CSS normalize

CSS normalize is a tool for normalizing CSS files.
It was developed to facilitate comparing CSS files using text comparison tools such as diff.
It takes CSS stylesheets as input and outputs a semantically equivalent normalized stylesheet.
The aforementioned equivalence means that the output file might e.g. have a different order of style rules but adding or removing rules is prohibited.
The output file is normalized or canonical in the sense that running the tool on an already normalized stylesheet should produce output identical to the input.
In other words the process of normalization is idempotent.

Transformations applied include:

- sorting properties by key within a style rule,
- sorting selectors in a group of comma separated selectors,
- adding leading zeros to floating point numeric literals (e.g changing `.5` to `0.5`),
- stripping leading plus sign from floating point numeric literals (e.g changing `+2.1` to `2.1`),
- inserting omitted semicolons after trailing CSS properties,
- using double quotes on all strings (e.g. changing `'a string'` to `"a string"`),
- applying uniform formatting, including collapsing excessive whitespace, putting each property in a separate line, aligning indentation.

## Building

```console
$ stack build
```

## Usage

You can specify the input file by passing its' name as the first positional parameter.

```console
$ cssn raw.css > normalized.css
```

Alternatively the stylesheet may be read from stdin.
Therefore the same effect as in the above example can be achieved using input redirection.

```console
$ cssn < raw.css > normalized.css
```

Perhaps a more interesting application is reading a stylesheet generated by another tool in a pipeline.
An example use case would be normalizing a stylesheet generated by a SASS to CSS translator.

```console
$ sass input.scss | cssn > normalized_output.css
```

To compare two css files first normalize both with cssn

```console
$ cssn a.css > a.norm.css
$ cssn b.css > b.norm.css
```

Then compare the normalized files using a standart text comparison tool such as diff

```console
$ diff a.norm.css b.norm.css
```
